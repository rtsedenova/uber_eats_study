var D=(a,e,t)=>{if(!e.has(a))throw TypeError("Cannot "+t)};var l=(a,e,t)=>(D(a,e,"read from private field"),t?t.call(a):e.get(a)),r=(a,e,t)=>{if(e.has(a))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(a):e.set(a,t)},y=(a,e,t,c)=>(D(a,e,"write to private field"),c?c.call(a,t):e.set(a,t),t);var d=(a,e,t)=>(D(a,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&c(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}})();const F=[{id:1,img:"images/restImages/img1.jpg",name:"Макдоналдс — Газетный",desc1:"₽₽ • Бургеры",desc2:"35 - 45 мин",coords:{lat:"55.758965",lng:"37.610619"}},{id:2,img:"images/restImages/img2.jpg",name:"DimSum & Co — ЦДМ",desc1:"₽ • Японская • Китайская • Азиатская",desc2:"15 - 25 мин",coords:{lat:"55.755471",lng:"37.613848"}},{id:3,img:"images/restImages/img3.jpg",name:"ДвижОК — Манежная",desc1:"₽ • Американская • Европейская",desc2:"45 - 55 мин",coords:{lat:"55.757124",lng:"37.615564"}},{id:4,img:"images/restImages/img4.jpg",name:"НЯ — NHA",desc1:"₽₽ • Вьетнамская",desc2:"30 - 40 мин",coords:{lat:"55.762267",lng:"37.612232"}},{id:5,img:"images/restImages/img5.jpg",name:"Точка Дзы — Цветной",desc1:"₽₽ • Вьетнамская",desc2:"15 - 30 мин",coords:{lat:"55.769847",lng:"37.620843"}},{id:6,img:"images/restImages/img6.jpg",name:"Cinnabon",desc1:"₽ • Выпечка • Десерты • Капкейки",desc2:"40 - 50 мин",coords:{lat:"55.772993",lng:"37.600161"}},{id:7,img:"images/restImages/img7.jpg",name:"PIZZELOVE",desc1:"₽₽ • Пицца",desc2:"25 - 45 мин",coords:{lat:"55.767699",lng:"37.605502"}},{id:8,img:"images/restImages/img8.jpg",name:"Zю кафе — Тверская",desc1:"₽₽ • Японская",desc2:"20 - 30 мин",coords:{lat:"55.764627",lng:"37.606514"}},{id:9,img:"images/restImages/img9.jpg",name:"Bar BQ Cafe — Манежная",desc1:"₽₽₽ • Европейская",desc2:"15 - 25 мин",coords:{lat:"55.756353",lng:"37.615641"}}];class Z{constructor(e){this.cardInfo=e}}class z{constructor(e,t,c,s){this.img=e,this.name=t,this.desc1=c,this.desc2=s}}const q=document.querySelector("#cards-container"),A=document.querySelector("#loader-container");var g,h,u,L,N,E,T,w,M,I,R,p,b,f,P,v,_,S,J;class H{constructor(){r(this,L);r(this,E);r(this,w);r(this,I);r(this,p);r(this,f);r(this,v);r(this,S);r(this,g,void 0);r(this,h,void 0);r(this,u,void 0);y(this,h,window.location.pathname),y(this,g,[]),y(this,u,{meals:1,restaurants:2})}transition(){document.querySelectorAll(".card").forEach(t=>{t.addEventListener("click",c=>{const s=c.currentTarget,n={img:s.querySelector("img").getAttribute("src"),name:s.querySelector(".name").textContent,desc1:s.querySelector(".desc1").textContent,desc2:s.querySelector(".desc2").textContent};sessionStorage.setItem("selectedCardInfo",JSON.stringify(n)),window.location.href="pages/restDetails.html"})})}async init(){document.addEventListener("DOMContentLoaded",async()=>{switch(l(this,h)){case"/":try{d(this,p,b).call(this),d(this,I,R).call(this)}catch(e){console.error("Error initializing app:",e)}finally{d(this,f,P).call(this)}break;case"/pages/restDetails.html":try{document.addEventListener("DOMContentLoaded",()=>{d(this,p,b).call(this)}),d(this,v,_).call(this)}catch(e){console.error("Error initializing app:",e)}finally{document.addEventListener("DOMContentLoaded",()=>{d(this,f,P).call(this)})}break}})}}g=new WeakMap,h=new WeakMap,u=new WeakMap,L=new WeakSet,N=function(e,t){const c=document.createElement("div");c.classList.add("card");const s=document.createElement("img");s.src=e.img,c.appendChild(s);const n=document.createElement("div");n.classList.add("info");const o=document.createElement("div");o.classList.add("name"),o.textContent=e.name;const m=document.createElement("div");if(m.classList.add("desc1"),m.textContent=e.desc1,n.appendChild(o),n.appendChild(m),c.appendChild(n),t==l(this,u).restaurants){const i=document.createElement("div");i.classList.add("desc2"),i.textContent=e.desc2,n.appendChild(i)}return c},E=new WeakSet,T=async function(e){try{const t=await fetch(e);if(!t.ok)throw new Error("Failed to fetch data");return await t.json()}catch(t){throw console.error("Error fetching data:",t),t}},w=new WeakSet,M=async function(){(await d(this,E,T).call(this,"/src/json/data.json")).forEach(t=>{const c=new z(t.img,t.name,t.desc1,t.desc2),s=new Z(c);l(this,g).push(s)})},I=new WeakSet,R=async function(){await d(this,w,M).call(this),l(this,g).forEach(e=>{const t=d(this,L,N).call(this,e.cardInfo,l(this,u).restaurants);this.transition(),q.appendChild(t)})},p=new WeakSet,b=function(){A.classList.remove("hidden"),q.classList.add("hidden")},f=new WeakSet,P=function(){A.classList.add("hidden"),q.classList.remove("hidden")},v=new WeakSet,_=function(){d(this,S,J).call(this)},S=new WeakSet,J=function(){const e=document.querySelector(".restaurant-info"),t=JSON.parse(sessionStorage.getItem("selectedCardInfo")),c=t.img,s=t.name,n=t.desc1,o=t.desc2,m=document.createElement("img");m.classList.add("bg-image"),m.src=c;const i=document.createElement("div");i.classList.add("info_2");const j=document.createElement("div");j.classList.add("name_2"),j.textContent=s;const C=document.createElement("div");C.classList.add("row-info");const x=document.createElement("div");x.classList.add("desc1_2"),x.textContent=n;const O=document.createElement("div");O.classList.add("desc2_2"),O.textContent=o,C.appendChild(x),C.appendChild(O),i.appendChild(j),i.appendChild(C),e.appendChild(m),e.appendChild(i)};export{H as A,F as d};
